{% extends "base.html" %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-8">
        <div class="card">
            <div class="card-header">
                <h3>Create a New Post</h3>
            </div>
            <div class="card-body">
                <form method="POST" enctype="multipart/form-data">
                    <div class="mb-3">
                        <label for="content" class="form-label">What's on your mind?</label>
                        <textarea class="form-control" id="content" name="content" rows="3"></textarea>
                    </div>
                    
                    <div class="mb-3">
                        <label class="form-label">Post Type</label>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="post_type" id="typeText" value="text" checked onchange="toggleMediaUpload()">
                            <label class="form-check-label" for="typeText">
                                Text Only
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="post_type" id="typePhoto" value="photo" onchange="toggleMediaUpload()">
                            <label class="form-check-label" for="typePhoto">
                                Photo
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="post_type" id="typeVideo" value="video" onchange="toggleMediaUpload()">
                            <label class="form-check-label" for="typeVideo">
                                Video
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="post_type" id="typeAudio" value="audio" onchange="toggleMediaUpload()">
                            <label class="form-check-label" for="typeAudio">
                                Audio
                            </label>
                        </div>
                    </div>
                    
                    <div class="mb-3" id="mediaUpload" style="display: none;">
                        <label for="media" class="form-label">Upload Media</label>
                        <input class="form-control" type="file" id="media" name="media">
                    </div>
                    
                    <button type="submit" class="btn btn-primary">Post</button>
                </form>
            </div>
        </div>
    </div>
</div>

<script>
    function toggleMediaUpload() {
        const textRadio = document.getElementById('typeText');
        const mediaUpload = document.getElementById('mediaUpload');
        
        if (textRadio.checked) {
            mediaUpload.style.display = 'none';
        } else {
            mediaUpload.style.display = 'block';
        }
    }
</script>
{% endblock %}